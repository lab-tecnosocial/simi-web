---
import PageLayout from "../../layouts/PageLayout.astro";
import posts from "../../components/data/posts.json";
import HeroTop from "../../components/blog/HeroTop.jsx";
import PostHeader from "../../components/blog/post/Header.jsx";
import PostContent from "../../components/blog/post/Content.jsx";
import "../../styles/global.css";

export async function getStaticPaths() {
  return posts.map((post) => ({ params: { id: post.id.toString() } }));
}
const { id } = Astro.params;
const post = posts.find((p) => p.id === parseInt(id));
if (!post) throw new Error("Post not found");
---

<PageLayout
  titulo={post.title}
  descripcion={post.content.substring(0, 80) + "..."}
  imagen={"../" + post.image}
>
  <!-- SecciÃ³n de Hero -->
  <HeroTop />

  <!-- Post Header Section -->
  <PostHeader post={post} client:load />

  <!-- Post Content Section -->
  <PostContent content={post.content} client:load />
</PageLayout>
